{
  "custom_metric":{
    "instant_vectors":{
      "pf_stats_connection":{
        "role": ["Support", "Admin", "User"],
        "query":"pf_stats{data_type='count',service='CONTROLLER'}%2Fignoring(data_type)pf_stats{data_type='ccnx_count',service='CONTROLLER'}",
        "description":"pf stats ccnx count",
        "x": {
          "unit": {
            "fr": "",
            "en": ""
          }
        },
        "y": {
          "title" : {
            "en": "Number of connections",
            "fr": "Nombre de connections"
          },          
          "unit" : {
            "en" : "",
            "fr" : ""
          },      
          "min": 0,
          "step": ""
        },
        "type": "",
        "promql": "",
        "tension": 0.5
      },

      "average_pfstats_latence": {
        "role": ["Support", "Admin", "User"],
        "query": "avg_over_time(pf_stats{data_type='avg_latency',src_ip='0.0.0.0'}[1h])",
        "description": "Latence moyenne des applications supervisées",
        "x": {
          "unit": {
            "fr": "ms",
            "en": "ms"
          }
        },
        "y": {
          "title" : {
            "en": "Latency",
            "fr": "Latence"
          },          
          "unit" : {
            "en" : "ms",
            "fr" : "ms"
          },      
          "min": 0,
          "step": ""
        },
        "type": "",
        "promql": "",
        "tension": 0.5
      },
      "average_pfstats_latence_ARGUS": {
        "role": ["Support", "Admin", "User"],
        "query": "avg_over_time(pf_stats{data_type='avg_latency',service='LARGUS',src_ip='0.0.0.0'}[1h])",
        "description": "Latence moyenne du service l'ARGUS",
        "x": {
          "unit": {
            "fr": "",
            "en": ""
          }
        },
        "y": {
          "title" : {
            "en": "Latency",
            "fr": "Latence"
          },          
          "unit" : {
            "en" : "ms",
            "fr" : "ms"
          },      
          "min": 0,
          "step": ""
        },
        "type": "",
        "promql": "",
        "tension": 0.5
      },
      "average_pfstats_latence_DCS": {
        "role": ["Support", "Admin", "User"],
        "query": "avg_over_time(pf_stats{data_type='avg_latency',service='DCS',src_ip='0.0.0.0'}[1h])",
        "description": "Latence moyenne du service DCS net",
        "x": {
          "unit": {
            "fr": "",
            "en": ""
          }
        },
        "y": {
          "title" : {
            "en": "Latency",
            "fr": "Latence"
          },          
          "unit" : {
            "en" : "ms",
            "fr" : "ms"
          },      
          "min": 0,
          "step": ""
        },
        "type": "",
        "promql": "",
        "tension": 0.5
      },
      "average_pfstats_latence_DIALOGYS": {
        "role": ["Support", "Admin", "User"],
        "query": "avg_over_time(pf_stats{data_type='avg_latency',service='DIALOGYS',src_ip='0.0.0.0'}[1h])",
        "description": "Latence moyenne du service Dialogys",
        "x": {
          "unit": {
            "fr": "",
            "en": ""
          }
        },
        "y": {
          "title" : {
            "en": "Latency",
            "fr": "Latence"
          },          
          "unit" : {
            "en" : "ms",
            "fr" : "ms"
          },      
          "min": 0,
          "step": ""
        },
        "type": "",
        "promql": "",
        "tension": 0.5
      },

      "sum_pfstats_ccnxcount_1h": {
        "role": ["Support", "Admin", "User"],
        "query": "sum_over_time(pf_stats{data_type='ccnx_count',src_ip='0.0.0.0'}[1h])",
        "description": "Nombre de connexions sur les applications supervisées (lissage 1h)",
        "x": {
          "unit": {
            "fr": "",
            "en": ""
          }
        },
        "y": {
          "title" : {
            "en": "Number of connections",
            "fr": "Nombre de connexions"
          },          
          "unit" : {
            "en" : "",
            "fr" : ""
          },      
          "min": 0,
          "step": ""
        },
        "type": "",
        "promql": "",
        "tension": 0.5
      },
      "sum_pfstats_ccnxcount_1h_DIALOGYS": {
        "role": ["Support", "Admin", "User"],
        "query": "sum_over_time(pf_stats{data_type='ccnx_count',service='DIALOGYS',src_ip='0.0.0.0'}[1h])",
        "description": "Nombre de connexions sur Dialogys (lissage 1h)",
        "x": {
          "unit": {
            "fr": "",
            "en": ""
          }
        },
        "y": {
          "title" : {
            "en": "Number of connections",
            "fr": "Nombre de connexions"
          },          
          "unit" : {
            "en" : "",
            "fr" : ""
          },      
          "min": 0,
          "step": ""
        },
        "type": "",
        "promql": "",
        "tension": 0.5
      },
      "sum_pfstats_ccnxcount_1h_ARGUS": {
        "role": ["Support", "Admin", "User"],
        "query": "sum_over_time(pf_stats{data_type='ccnx_count',service='LARGUS',src_ip='0.0.0.0'}[1h])",
        "description": "Nombre de connexions sur l'Argus (lissage 1h)",
        "x": {
          "unit": {
            "fr": "",
            "en": ""
          }
        },
        "y": {
          "title" : {
            "en": "Number of connections",
            "fr": "Nombre de connexions"
          },          
          "unit" : {
            "en" : "",
            "fr" : ""
          },      
          "min": 0,
          "step": ""
        },
        "type": "",
        "promql": "",
        "tension": 0.5
      },
      "sum_pfstats_ccnxcount_1h_DCS": {
        "role": ["Support", "Admin", "User"],
        "query": "sum_over_time(pf_stats{data_type='ccnx_count',service='DCS',src_ip='0.0.0.0'}[1h])",
        "description": "Nombre de connexions sur DCS net (lissage 1h)",
        "x": {
          "unit": {
            "fr": "",
            "en": ""
          }
        },
        "y": {
          "title" : {
            "en": "Number of connections",
            "fr": "Nombre de connexions"
          },          
          "unit" : {
            "en" : "",
            "fr" : ""
          },      
          "min": 0,
          "step": ""
        },
        "type": "",
        "promql": "",
        "tension": 0.5
      },

      "sum_pfstats_restransmit_1h": {
        "role": ["Support", "Admin", "User"],
        "query": "sum_over_time(pf_stats{data_type='retransmit',src_ip='0.0.0.0'}[1h])",
        "description": "Nombre de retransmissions sur les applications supervisées (lissage 1h)",
        "x": {
          "unit": {
            "fr": "",
            "en": ""
          }
        },
        "y": {
          "title" : {
            "en": "Number of retransmissions",
            "fr": "Nombre de retransmissions"
          },          
          "unit" : {
            "en" : "",
            "fr" : ""
          },      
          "min": 0,
          "step": ""
        },
        "type": "",
        "promql": "",
        "tension": 0.5
      },
      "sum_pfstats_restransmit_1h_DIALOGYS": {
        "role": ["Support", "Admin", "User"],
        "query": "sum_over_time(pf_stats{data_type='retransmit',service='DIALOGYS',src_ip='0.0.0.0'}[1h])",
        "description": "Nombre de retransmissions sur Dialogys (lissage 1h)",
        "x": {
          "unit": {
            "fr": "",
            "en": ""
          }
        },
        "y": {
          "title" : {
            "en": "Number of retransmissions",
            "fr": "Nombre de retransmissions"
          },          
          "unit" : {
            "en" : "",
            "fr" : ""
          },      
          "min": 0,
          "step": ""
        },
        "type": "",
        "promql": "",
        "tension": 0.5
      },
      "sum_pfstats_restransmit_1h_ARGUS": {
        "role": ["Support", "Admin", "User"],
        "query": "sum_over_time(pf_stats{data_type='retransmit',service='LARGUS',src_ip='0.0.0.0'}[1h])",
        "description": "Nombre de retransmissions sur l'Argus (lissage 1h)",
        "x": {
          "unit": {
            "fr": "",
            "en": ""
          }
        },
        "y": {
          "title" : {
            "en": "Number of retransmissions",
            "fr": "Nombre de retransmissions"
          },          
          "unit" : {
            "en" : "",
            "fr" : ""
          },
          "min": 0,
          "step": ""
        },
        "type": "",
        "promql": "",
        "tension": 0.5
      },
      "sum_pfstats_restransmit_1h_DCS": {
        "role": ["Support", "Admin", "User"],
        "query": "sum_over_time(pf_stats{data_type='retransmit',service='DCS',src_ip='0.0.0.0'}[1h])",
        "description": "Nombre de retransmissions sur DCS net (lissage 1h)",
        "x": {
          "unit": {
            "fr": "",
            "en": ""
          }
        },
        "y": {
          "title" : {
            "en": "Number of retransmissions",
            "fr": "Nombre de retransmissions"
          },          
          "unit" : {
            "en" : "",
            "fr" : ""
          },
          "min": 0,
          "step": ""
        },
        "type": "",
        "promql": "",
        "tension": 0.5
      },

      "sum_pfstats_ccnxcount_1h_DCS_all_ip": {
        "role": ["Support", "Admin", "User"],
        "query": "sum_over_time(pf_stats{data_type='ccnx_count',service='DCS',src_ip%3D%7E'[%5E0].%2B'}[1h])",
        "description": "Nombre de connexions sur DCS net (lissage 1h)",
        "x": {
          "unit": {
            "fr": "",
            "en": ""
          }
        },
        "y": {
          "title" : {
            "en": "Number of connections",
            "fr": "Nombre de connexions"
          },          
          "unit" : {
            "en" : "",
            "fr" : ""
          },
          "min": 0,
          "step": ""
        },
        "type": "",
        "promql": "",
        "tension": 0.5
      },
      "sum_pfstats_ccnxcount_1h_DCS_one_ip": {
        "role": ["Support", "Admin", "User"],
        "query": "sum_over_time(pf_stats{data_type='ccnx_count',service='DCS',src_ip='200.8.155.52'}[1h])",
        "description": "Nombre de connexions sur DCS net (lissage 1h)",
        "x": {
          "unit": {
            "fr": "",
            "en": ""
          }
        },
        "y": {
          "title" : {
            "en": "Number of connections",
            "fr": "Nombre de connexions"
          },  
          "unit" : {
            "en": "",
            "fr": ""
          },       
          "min": 0,
          "step": ""
        },
        "type": "",
        "promql": "",
        "tension": 0.5
      },
      "pfstats_up_down": {
        "role": ["Support", "Admin", "User"],
        "query": "pf_stats{data_type=~'bytes_(?:UP|DOWN)',service='DCS',src_ip='0.0.0.0'}",
        "description": "Consommation bande passante",
        "x": {
          "unit": {
            "fr": "",
            "en": ""
          }
        },
        "y": {
          "title" : {
            "en": "Bandwidth consumption",
            "fr": "Consommation bande passante"
          },
          "unit" : {
            "en" : "B",
            "fr" : "o"
          },      
          "min": 0,
          "step": ""
        },
        "type": "",
        "promql": "",
        "tension": 0.5
      },
      "pfstats_up_down_one_ip": {
        "role": ["Support", "Admin", "User"],
        "query": "pf_stats{data_type=~'bytes_(?:UP|DOWN)',service='DCS',src_ip='200.8.155.52'}",
        "description": "Consommation bande passante",
        "x": {
          "unit": {
            "fr": "",
            "en": ""
          }
        },
        "y": {
          "title" : {
            "en": "Bandwidth consumption",
            "fr": "Consommation bande passante"
          },          
          "unit" : {
            "en" : "B",
            "fr" : "o"
          },      
          "min": 0,
          "step": ""
        },
        "type": "",
        "promql": "",
        "tension": 0.5
      }
    },
    "range_vectors":{
    }
  },  
  "example": {
    "x": {
      "unit": "___",
      "min": 0
    },
    "y": {
      "title" : "___",
      "unit": "___",
      "min": 0,
      "step": "___"
    },
    "type": "range_vectors",
    "promql": "deriv",
    "tension": 1
  },
  "output": {
    "x": {
      "unit": {
        "fr":"o/s",
        "en":"B/s"
      }
    },
    "y": {
      "title" : {
        "en": "Bandwidth consumption",
        "fr": "Consommation bande passante"
      },
      "unit" : {
        "en" : "B",
        "fr" : "o"
      },      
      "min": 0,
      "step": ""
    },
    "type": "range_vectors",
    "promql": "deriv",
    "tension": 0.5
  },
  "input": {
    "x": {
      "unit": {
        "fr":"o/s",
        "en":"B/s"
      }
    },
    "y": {
      "title" : {
        "en": "Bandwidth consumption",
        "fr": "Consommation bande passante"
      },      
      "unit" : {
        "en" : "B",
        "fr" : "o"
      },
      "min": 0,
      "step": ""
    },
    "type": "range_vectors",
    "promql": "deriv",
    "tension": 0.5
  },
  "output_raw": {
    "x": {
      "unit" : {
        "en" : "B",
        "fr" : "o"
      }
    },
    "y": {
      "title" : {
        "en": "Bandwidth consumption",
        "fr": "Consommation bande passante"
      },      
      "unit" : {
        "en" : "B",
        "fr" : "o"
      },      
      "min": 0
    },
    "type": "",
    "promql": "",
    "tension": 0.5
  },
  "input_raw": {
    "x": {
      "unit" : {
        "en" : "B",
        "fr" : "o"
      }
    },
    "y": {
      "title" : {
        "en": "Bandwidth consumption",
        "fr": "Consommation bande passante"
      },
      "unit" : {
        "en" : "B",
        "fr" : "o"
      },
      "min": 0
    },
    "type": "",
    "promql": "",
    "tension": 0.5
  },
  "": {
    "x": {
      "unit": {
        "fr":"",
        "en":""
      }
    },
    "y": {
      "title" : "___",
      "unit" :"___",
      "min": 0,
      "step": 1
    },
    "type": "",
    "promql": "",
    "tension": 0.5
  }
}